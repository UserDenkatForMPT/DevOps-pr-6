# Используем базовый образ Ubuntu с последней версией
FROM ubuntu:latest

# Обновляем пакеты в системе и устанавливаем несколько необходимых пакетов.
RUN apt-get update && apt-get install -y \
# Устанавливаем X-приложения для графического вывода
x11-apps \
# Устанавливаем xauth для управления X-сервером
xauth \
# Устанавливаем OpenJDK 11 JRE (Java Runtime Environment).
openjdk-11-jre \
# Затем удаляем кэш пакетов, чтобы уменьшить размер образа.
&& rm -rf /var/lib/apt/lists/*

# Задаем рабочий каталог внутри контейнера как /new-app
WORKDIR /new-app

# Копируем файл calc.jar из хост-системы внутрь контейнера в текущий рабочий каталог
COPY calc.jar /new-app/

# Устанавливаем переменную среды DISPLAY в значение ":0", что позволяет приложениям
# внутри контейнера использовать X Window System для отображения графических интерфейсов.
ENV DISPLAY=:0

# Запускаем Java-приложение, используя команду "java -jar" и указываем путь к calc.jar
CMD [ "java", "-jar", "/new-app/calc.jar" ]
